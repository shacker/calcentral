(function(angular, Raven) {

  'use strict';

  angular.module('calcentral.services').service('errorService', [function() {

    Raven.config('<%= Settings.sentry_url %>').install();

    /**
     * Send an error exception
     * @param {String} exception The exception you want to send
     */

    var send = function(exception) {
      var exception = exception.message || exception;
      var app_version = <%= ServerRuntime.get_settings["versions"]["application"] %>;
      var client_host_name = <%= ServerRuntime.get_settings["hostname"].to_s %>;

      Raven.captureMessage(exception, {tags: {
        app_version: app_version,
        host: "bar",
        uid: "foo",
        ip: "123"
      }});
    };

    // Expose methods
    return {
      send: send
    };

  }]);

}(window.angular, window.Raven));
